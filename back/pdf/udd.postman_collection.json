{
	"info": {
		"_postman_id": "6825bb68-82c3-423e-8e14-9e1b0745502a",
		"name": "udd",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "elasticsearch playgorund",
			"item": [
				{
					"name": "test-elastic",
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{EL_URL}}/book",
						"description": "small tests for elastic"
					},
					"response": []
				},
				{
					"name": "create index ",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    //   \"settings\": {\r\n    //     \"number_of_shards\": 1,\r\n    //     \"number_of_replicas\": 2\r\n    //   },\r\n    \"_meta\": {\r\n        \"class\": \"test_index\"\r\n    },\r\n    \"properties\": {\r\n        \"sadrzaj\": {\r\n            \"type\": \"text\",\r\n            \"analyzer\": \"serbian\"\r\n        },\r\n        \"naslov\": {\r\n            \"type\": \"keyword\"\r\n        },\r\n        \"open_access\": {\r\n            \"type\": \"boolean\"\r\n        },\r\n        \"check\": {\r\n            \"type\": \"boolean\"\r\n        },\r\n        \"first_name\": {\r\n            \"type\": \"text\",\r\n            \"analyzer\": \"serbian\"\r\n        },\r\n        \"last_name\": {\r\n            \"type\": \"text\",\r\n            \"analyzer\": \"serbian\"\r\n        }\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{EL_URL}}/book"
					},
					"response": []
				},
				{
					"name": "add document to index",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"sadrzaj\": \"pokušaj nekog sadržaja u svetu 34\",\r\n    \"open_access\": true,\r\n    \"naslov\": \"Pokušaj 3\",\r\n    \"first_name\": \"Aleksandar\",\r\n    \"last_name\": \"Okiljević\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{EL_URL}}/test-index/_doc/5"
					},
					"response": []
				},
				{
					"name": "query",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"query\": {\r\n        // \"match\": {\r\n        //   \"content\": {\r\n        //     \"query\": \"prostorno\"\r\n        //   }\r\n        // }\r\n        \"match_all\": {}\r\n        // \"bool\": {\r\n        //     \"must\": [\r\n        //         {\r\n        //             \"match\": {\r\n        //                 \"first_name\": {\r\n        //                     \"query\": \"Nikola\"\r\n        //                 }\r\n        //             }\r\n        //         },\r\n        //         {\r\n        //             \"match\": {\r\n        //                 \"last_name\": {\r\n        //                     \"query\": \"Mandic\"\r\n        //                 }\r\n        //             }\r\n        //         },\r\n        //         {\r\n        //             \"match_phrase\": {\r\n        //               \"sadrzaj\": \"sadrzaja u svetu \"\r\n        //             }\r\n        //         }\r\n        //     ]\r\n        // \"filter\": {\r\n        //     \"term\": {\r\n        //         \"open_access\": true\r\n        //     }\r\n        // }\r\n        // }\r\n        // GEO stuff\r\n        // \"bool\": {\r\n        //     \"must\": {\r\n        //         \"match_all\": {}\r\n        //     },\r\n        //     \"filter\": {\r\n        //         \"geo_distance\": {\r\n        //             \"distance\": \"100km\",\r\n        //             \"point\": {\r\n        //                 \"lat\": 45.267136,\r\n        //                 \"lon\": 19.833549\r\n        //             }\r\n        //         }\r\n        //     }\r\n        // }\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{EL_URL}}/book/_search"
					},
					"response": []
				}
			]
		},
		{
			"name": "add document",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": "/C:/Users/Nikola Mandic/Desktop/Vakcina H1N1.pdf"
						},
						{
							"key": "authorId",
							"value": "1",
							"type": "text"
						},
						{
							"key": "authorFirstName",
							"value": "Aleksandar",
							"type": "text"
						},
						{
							"key": "authorLastName",
							"value": "Mandic",
							"type": "text"
						},
						{
							"key": "genre",
							"value": "NEWS",
							"type": "text"
						},
						{
							"key": "isbn",
							"value": "1122331111",
							"type": "text"
						},
						{
							"key": "title",
							"value": "Vakcina",
							"type": "text"
						}
					]
				},
				"url": "{{BACK}}/document/add"
			},
			"response": []
		},
		{
			"name": "add reader",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"readerId\": 3,\r\n    \"latitude\": 46.100376,\r\n    \"longitude\": 19.667587\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{BACK}}/beta-reader/add"
			},
			"response": []
		},
		{
			"name": "search geo",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"longitude\": 19.833549,\r\n    \"latitude\": 45.267136,\r\n    \"distance\": 100\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{BACK}}/beta-reader/getReadersGeo"
			},
			"response": []
		},
		{
			"name": "search docs",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"title\": {\r\n        \"field\": \"title\",\r\n        \"value\": \"Vakcina\",\r\n        \"regular\": true,\r\n        \"operator\": \"MUST\"\r\n    },\r\n    \"authorFirstName\": {\r\n        \"field\": \"authorFirstName\",\r\n        \"value\": \"Nikola\",\r\n        \"regular\": true,\r\n        \"operator\": \"SHOULD\"\r\n    },\r\n    \"authorLastName\": {\r\n        \"field\": \"authorLastName\",\r\n        \"value\": \"Mandic\",\r\n        \"regular\": true,\r\n        \"operator\": \"SHOULD\"\r\n    },\r\n    \"content\": {\r\n        \"field\": \"content\",\r\n        \"value\": \"Član Radne grupe za \",\r\n        \"regular\": false,\r\n        \"operator\": \"MUST\"\r\n    },\r\n    \"genre\": {\r\n        \"field\": \"genre\",\r\n        \"value\": \"news\",\r\n        \"regular\": false,\r\n        \"operator\": \"MUST\"\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{BACK}}/document/search"
			},
			"response": []
		}
	]
}